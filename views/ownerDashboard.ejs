<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
    <title>Admin Dashboard</title>
</head>

<body class="bg-gray-100">

    <!-- TOP NAVBAR -->
    <header class="fixed top-0 left-0 w-full h-[70px] bg-white shadow flex items-center justify-start gap-2 px-6 z-50">
        <!-- Mobile Hamburger -->
        <button onclick="openSidebar()" class="text-3xl md:hidden">
            <i class="ri-menu-line"></i>
        </button>

        <h1 class="text-2xl md:text-3xl font-bold text-gray-800">BagVerse Admin</h1>

        
    </header>

    <!-- SIDEBAR -->
    <%- include("./partials/adminSidebar") %>

        <!-- MAIN CONTENT -->
        <main class="pt-[90px] md:ml-64 px-6 transition-all duration-300">

            <!-- Flash Success Message -->
            <% if (success && success.length> 0) { %>
                <div class="flash-success bg-green-100 border-l-4 border-green-600 text-green-800 px-4 py-3 
                        rounded-md shadow-md mb-5 w-fit animate-slideDown">
                    <%= success %>
                </div>
                <% } %>

                    <!-- PAGE TITLE -->
                    <h2 class="text-2xl font-bold mb-6">Dashboard Overview</h2>

                    <!-- DASHBOARD CARDS -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

                        <div class="p-6 bg-blue-600 text-white rounded-xl shadow">
                            <h3 class="text-lg font-semibold">Total Products</h3>
                            <p class="text-3xl font-bold mt-2">
                                <%= totalProducts %>
                            </p>
                        </div>

                        <div class="p-6 bg-purple-600 text-white rounded-xl shadow">
                            <h3 class="text-lg font-semibold">Total Users</h3>
                            <p class="text-3xl font-bold mt-2">
                                <%= totalUsers %>
                            </p>
                        </div>

                        <div class="p-6 bg-green-600 text-white rounded-xl shadow">
                            <h3 class="text-lg font-semibold">Total Orders</h3>
                            <p class="text-3xl font-bold mt-2">
                                <%= totalOrders %>
                            </p>
                        </div>

                        <div class="p-6 bg-amber-600 text-white rounded-xl shadow">
                            <h3 class="text-lg font-semibold">Pending Orders</h3>
                            <p class="text-3xl font-bold mt-2">
                                <%= pendingOrders %>
                            </p>
                        </div>

                    </div>

                    <!-- ACTION BOXES -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-10">

                        <a href="/owner/create-product"
                            class="block bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
                            <h3 class="text-xl font-bold">Create Product</h3>
                            <p class="text-gray-500">Add new bags to your store</p>
                        </a>

                        <a href="/product/all" class="block bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
                            <h3 class="text-xl font-bold">Manage Products</h3>
                            <p class="text-gray-500">View, edit or delete products</p>
                        </a>

                        <a href="/owner/orders" class="block bg-white p-6 rounded-xl shadow hover:shadow-lg transition">
                            <h3 class="text-xl font-bold">Manage Orders</h3>
                            <p class="text-gray-500">View all customer orders</p>
                        </a>

                    </div>

                    <br><br>
        </main>

        <!-- JAVASCRIPT -->
        <script>
            function openSidebar() {
                document.getElementById("sidebar").classList.remove("-translate-x-full");
            }
            function closeSidebar() {
                document.getElementById("sidebar").classList.add("-translate-x-full");
            }

            // Auto-remove success flash
            setTimeout(() => {
                document.querySelectorAll(".flash-success").forEach(msg => {
                    msg.style.opacity = "0";
                    msg.style.transition = "opacity .4s";
                    setTimeout(() => msg.remove(), 400);
                });
            }, 2500);
        </script>

</body>

</html>